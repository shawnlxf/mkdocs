## 导论

目前，已经嵌入 JavaScript 的宿主环境有多种，最常见的环境就是浏览器，另外还有服务器环境，也就是 Node 项目。

??? note "JavaScript 的核心语法部分相当精简，只包括两个部分"

    * 基本的语法构造（比如操作符、控制结构、语句）和
    * 标准库（就是一系列具有各种功能的对象比如Array、Date、Math等）。

??? note "除此之外，各种宿主环境提供额外的 API（即只能在该环境使用的接口），以便 JavaScript 调用。"

    以浏览器为例，它提供的额外 API 可以分成三大类。

    * 浏览器控制类：操作浏览器
    * DOM 类：操作网页的各种元素
    * Web 类：实现互联网的各种功能

    如果宿主环境是服务器，则会提供各种操作系统的 API，

    > 比如文件操作 API、网络通信 API等等。这些你都可以在 Node 环境中找到。

??? note "全书可以分成以下四大部分"

    * 基本语法
    * 标准库
    * 浏览器 API
    * DOM

??? note "虽然核心语法不难，但是 JavaScript 的复杂性体现在另外两个方面。"

    * 首先，它涉及大量的外部 API。

    * 其次，JavaScript 语言有一些设计缺陷。学习 JavaScript，很大一部分时间是用来搞清楚哪些地方有陷阱。

## 基本语法

### 1 语句 (statement)

> 是为了完成某种任务而进行的操作

* 表达式 (expression): 指一个为了得到返回值的计算式。

??? note "语句和表达式的区别在于"

    * 前者主要为了进行某种操作，一般情况下不需要返回值；
    * 后者则是为了得到返回值，一定会返回一个值。

## 2 变量

> 是对“值”的具名引用。

### 2.1 概念

* 区分大小写
* 如果只是声明变量而没有赋值，则该变量的值是undefined。

    > undefined是一个特殊的值，表示“无定义”。

??? note "如果变量赋值的时候，忘了写var命令，这条语句也是有效的。"

    > 但是，不写var的做法，不利于表达意图，而且容易不知不觉地创建全局变量，所以建议总是使用var命令声明变量。

    ``` javascript
    var a = 1;
    // 基本等同
    a = 1;
    ```
??? note "JavaScript 是一种动态类型语言"

    也就是说，变量的类型没有限制，变量可以随时更改类型。

    ``` javascript
    var a = 1;
    a = 'hello';
    ```

### 2.2 变量提升

??? note "JavaScript 引擎的工作方式是"
        
    先解析代码，获取所有被声明的变量，然后再一行一行地运行。这造成的结果，就是所有的变量的声明语句，都会被提升到代码的头部，这就叫做变量提升（hoisting）。

    ``` javascript
    console.log(a);
    var a = 1;
    ```

    因为存在变量提升，真正运行的是下面的代码。

    ``` javascript
    var a;
    console.log(a);
    a = 1;
    ```

    最后的结果是显示undefined，表示变量a已声明，但还未赋值。


