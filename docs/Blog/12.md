
??? question "1. 闭包的用途是什么？闭包的缺点是什么？"

    闭包的作用:

    1. 封装私有变量

        ``` javascript
        // name 只能通过 getName 接口来访问
        function Person(name) {
            this.getName = function() {
                return name;
            }
        }
        ```

    2. 实现模块化

        ``` javascript
        function Person2() {
            var money = 50;
            function makeMoney() {
                return ++money;
            }
            function offer() {
                return --money;
            }
            return {
                makeMoney:makeMoney,
                offer:offer
            };
        }
        var person2 = new Person2();
        console.log(person2.makeMoney()) // 51
        console.log(person2.makeMoney()) // 52
        console.log(person2.makeMoney()) // 53
        console.log(person2.offer()) // 52
        ```

    3. 模拟块级作用域

        ``` javascript
        for (var i = 0; i < 5; i++) {
            // IIFE的目的是为了隔离作用域，防止污染全局命名空间。
            (function (j) {
                //这里是块级作用域
                setTimeout(function () {
                    console.log(j)
                }, j * 1000)
            })(i)
        }
        ```

    优点：避免全局变量的污染；能够读取函数内部的变量；在内存中维护一个变量

    缺陷：闭包会导致函数的变量一直保存在内存中，过多的闭包可能会导致内存泄漏

